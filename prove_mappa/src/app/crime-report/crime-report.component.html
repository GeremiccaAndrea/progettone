<div class="container">
  <h2>Segnala un crimine</h2>

  <!-- Barra di ricerca -->
  <input type="text" placeholder="Cerca un indirizzo, cittÃ  o quartiere" [(ngModel)]="searchQuery" (keyup.enter)="searchLocation()">
  <button (click)="searchLocation()">Cerca</button>

  <!-- Mappa -->
  <div id="map" style="height: 400px;"></div>

  <!-- Dettagli posizione -->
  <div *ngIf="locationInfo">
    <p><strong>Via:</strong> {{ locationInfo.road || 'N/A' }}</p>
    <p><strong>CittÃ :</strong> {{ locationInfo.city || 'N/A' }}</p>
    <p><strong>Quartiere:</strong> {{ locationInfo.neighbourhood || 'N/A' }}</p>
  </div>

  <form [formGroup]="reportForm" (ngSubmit)="submitReport()">
    <label>Tipo di Crimine:</label>
    <select formControlName="tipologia">
      <option value="furto">Furto</option>
      <option value="vandalismo">Vandalismo</option>
      <option value="violenza">Violenza</option>
      <option value="rapina">Rapina</option>
      <option value="stupefacenti">Stupefacenti</option>
      <option value="truffa">Truffa</option>
    </select>

    <br>
    <!-- Barra di pericolositÃ  con tooltip -->
    <label>
      PericolositÃ  (1-5):
      <span class="info-icon" tabindex="0" data-tooltip="Seleziona un valore da 1 a 5 in base alla gravitÃ .">ðŸ”º</span>
    </label>
    <div class="rating-container">
      <input type="range" formControlName="rating" min="1" max="5" step="1" id="dangerRating" (input)="updateRating($event)">
    </div>

    <div class="switch-container">
      <label>E' stato arrestato?</label>
      <label class="switch">
        <input type="checkbox" formControlName="arresto" (change)="toggleArresto()">
        <span class="slider round"></span>
      </label>
    </div>

    <label>Descrizione:</label>
    <textarea formControlName="descrizione"></textarea>

    <button type="submit">Invia Segnalazione</button>
  </form>
</div>